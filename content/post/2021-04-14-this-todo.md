---
title: "this"
date: 2021-04-14T20:41:50+08:00
draft: true
tags:
- this
---

## this到底是什么
> this既不指向函数自身,也不指向函数的词法作用域

`this`是在运行时进行绑定的, 并不是在编写时绑定,它的上下文取决于函数调用时的各种条件. this的绑定和函数声明的位置没有任何关系,只取决于函数的调用方式.

当一个函数被调用时, 会创建一个活动记录(也叫执行上下文), 这个记录会包含函数在哪里被调用(调用栈)、函数的调用方式、传入的参数信息等。this就是这个记录的一个属性，会在函数执行过程中用到。
> 每个函数中的this是在函数被调用时发生的绑定, this指向什么完全取决于函数在哪里被调用.

- this指向最后调用它的那个对象 


### 理解`指向` 
这个this到底引用的是什么?  `引用` `代表` `映射关系`

---
**PS.C语言中指针**
![](https://gtd-imgs-md.oss-cn-beijing.aliyuncs.com/imgs/20210415000710.png#w30)

数据在内存中的地址也称为指针，如果一个变量存储了一份数据的指针，我们就称它为指针变量。

在C语言中，允许用一个变量来存放指针，这种变量称为指针变量。指针变量的值就是某份数据的地址，这样的一份数据可以是数组、字符串、函数，也可以是另外的一个普通变量或指针变量。

现在假设有一个 char 类型的变量 c，它存储了字符 'K'（ASCII码为十进制数 75），并占用了地址为 0X11A 的内存（地址通常用十六进制表示）。另外有一个指针变量 p，它的值为 0X11A，正好等于变量 c 的地址，这种情况我们就称 p 指向了 c，或者说 p 是指向变量 c 的指针。

---

## 调用位置
调用位置:就是函数在代码中被调用的位置(而不是声明的位置)


## 绑定规则
### 默认绑定
### 隐式绑定
### 显示绑定
### new绑定

---
this : 取什么样的值,是在函数执行的时候确认的,不是在定义时确认的.
- 作为普通函数被调用
```js

```
- 使用call apply bind
- 作为对象的方法被调用
- 在class方法中被调用
- 箭头函数
箭头函数中this: 取上级作用域的值

## References
1. 你不知道的JavaScript (上卷) Part2
1. [重学 this 关键字](https://juejin.cn/post/6844903939691773960)
2. [嗨，你真的懂this吗？](https://juejin.cn/post/6844903805587619854#heading-0)
3. [this、apply、call、bind](https://juejin.cn/post/6844903496253177863)

## Extra
- 做事儿前追求完美有可能是低效的`拖沓`, 但做完事后追求完美是有目的的`优化`