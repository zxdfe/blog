---
title: "Vim常用基本操作"
date: 2021-04-12T11:24:53+08:00
draft: false
---
## Linux常用命令
- `mkdir` make directory 创建目录
- `rm` remove 删除
- `mv` move 移动
- `cp` copy 复制  
- `ls` list 罗列
- `pwd` progress working directory 查看当前完整路径
- `rm -r` 文件夹名  //删除目录(递归操作)
- `rm -rf` 文件夹名  //强制删除目录

## Vim模式
Mac terminal中直接输入`vim`可查看vim版本
![](https://gtd-imgs-md.oss-cn-beijing.aliyuncs.com/imgs/20210414001722.png)
### 普通模式 Normal mode
1. 用户启动vim时,默认进入普通模式, 可以使用`ESC`从其他模式切到普通模式
2. 普通模式可以进行各种命令操作和移动.
3. 大多数情况我们是在浏览而不是操作,所以`Vim`默认进入的是`Normal Mode`

**常用命令**
- `i` 切换到输入模式，以输入字符,在当前光标之前插入文本
- `a` 命令可以在当前光标之后插入文本。
- `o` 在当前行的下面另起一行，并使当前模式转为Insert模式。
- `x` 删除当前光标所在处的字符。 
- `u` 还原操作
- `:` 切换到底线命令模式，以在最底一行输入命令。
- `gg` 光标移到第一行
- `nG` 移动到第几行 (大写G)
- `G` 移动到最后一行
- `dd` 删除整行

**移动命令**

Vim 的各种移动命令主要是在 Normal 模式下。除了上下左右方向键,还可以使用`h、j、k、l` 按键。

| 按键 | 描述                                     |
| ---- | ---------------------------------------- |
| `h`  | 光标左移                                 |
| `j`  | 光标下移                                 |
| `k`  | 光标上移                                 |
| `l`  | 光标右移                                 |

**数字+移动命令**

| 按键 | 描述                                     |
| ---- | ---------------------------------------- |
| n+`h`| 光标左移 n 个位置 ，n(umber) 指数字      |
| n+`j`| 光标下移 n 个位置 ，n(umber) 指数字      |
| n+`k`| 光标上移 n 个位置 ，n(umber) 指数字      |
| n+`l`| 光标右移 n 个位置 ，n(umber) 指数字      |

**其他移动光标**
| 按键 | 描述                            | 助记      |
|------|---------------------------------|-----------|
| `0`  | 跳到行首，可以理解为无穷大的`h` |           |
| `^`  | 跳到行首开始的第一个非空白字符  |           |
| `$`  | 跳到行尾，可以理解为无穷大的`l` |           |
| `gg` | 跳到首行，可以理解为无穷大的`k` |           |
| `G`  | 跳到末行，可以理解为无穷大的`j` |           |
| `w`  | 跳到下一个词首                  | word      |
| `b`  | 跳到上一个词首                  | back-word |
| `e`  | 跳到下一个词尾                  | end       |
| `ge` | 跳到上一个词尾                  |           |

词间跳转中，“上一个词首”的精确断句为“上一个/词首”，即如果当前光标不在词首，则跳到本词词首；
如果当前光标已经在词首，才跳到上一个词的词首。
“下一个词尾”与此类似。

词间跳转也是支持“数字+移动命令”的，比如输入 `5w` 可以向后移动 5 个词。

除了 Normal 模式，移动命令也可以在可视模式下使用。
在可视模式下移动光标时，从**进入可视模式时的光标位置**到**移动后的光标位置**之间的文本将会被选中。


### 插入(编辑)模式 Insert mode
在普通模式下按下`i,a,o` 就进入了插入模式
| 按键 | 描述                 | 助记   |
|------|----------------------|--------|
| `i`  | 在当前光标字符前插入 | insert |
| `a`  | 在当前光标字符后插入 | append |
| `I`  | 在当前行首插入       | Insert |
| `A`  | 在当前行尾插入       | Append |
| `o`  | 在下方开一新行，插入 | open   |
| `O`  | 在上方开一新行，插入 | Open   |

- 字符按键以及Shift组合，输入字符
- `ENTER`，回车键，换行
- `BACK SPACE`，退格键，删除光标前一个字符
- `DEL` 删除键，删除光标后一个字符
- `hjkl(左下上右)`或`方向键`，在文本中移动光标
- `HOME/END`，移动光标到行首/行尾
- `Page Up/Page Down`，上/下翻页
- `Insert`，切换光标为输入/替换模式，光标将变成竖线/下划线
- `ESC`，退出输入模式，切换到命令模式

### 命令模式 Command mode
在命令模式下按下:（英文冒号）就进入了命令模式。

命令模式可以输入单个或多个字符的命令，可用的命令非常多。

常用命令:
- `:w` 保存
- `:q` 退出, 不保存 `:q!`加上感叹号,表示强制退出
- `:wq` 保存退出
- `:set nu` 显示行号; `:set nonu` 取消行号

按ESC键可随时退出命令模式。

### 可视化模式 Visual mode
可视化模式使得在 Vim 中高亮显示和操作文本变得更加容易。
按

| 按键       | 描述                                     | 助记   |
|------------|------------------------------------------|--------|
| `v`        | 选中当前光标字符，并进入可视模式         | visual |
| `V`        | 不同于小写 `v`，这时移动光标只会按行选择 | Visual |
| `<Ctrl-v>` | 块选择模式，此时移动光标会选择一个矩形块 |        |

- 字符模式`v` 从光标当前位置,光标经过的地方都会被选中,再按`v`结束
- 行模式`V` 从光标当前行开始，光标经过的`行`都会被选中，再按一下`Ｖ`结束
- 块模式 `Ctrl+v` 

可视模式回到普通模式也有很多方式，比较直接的就是`<ESC>`，当然，还有其他一些按键：

| 按键 | 描述                                     | 助记 |
|------|------------------------------------------|------|
| `y`  | 复制当前选择区域，并退出可视模式         | yank |
| `Y`  | 复制当前选择区域（按行），并退出可视模式 | Yank |
## References
- [VimScript](https://learnvimscriptthehardway.stevelosh.com/chapters/01.html)
- [精通 VIM ，此文就够了](https://zhuanlan.zhihu.com/p/68111471)
- [Vim资源](https://github.com/vim-china/hello-vim)
- [Vim入门教程](https://github.com/vim-china/hello-vim/blob/master/quick-start-guide.md)
- [为什么说 zsh 是 shell 中的极品？](https://www.zhihu.com/question/21418449)

